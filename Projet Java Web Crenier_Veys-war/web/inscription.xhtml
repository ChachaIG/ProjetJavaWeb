<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./pokeTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="head">
        <h:outputStylesheet name="./css/inscription.css"/>
    </ui:define>

    <ui:define name="section">
        <h:form>
            <div class="login">

                <div class="connection">
                    <h1><h:outputText value="Connection"/></h1>

                    <h1><h:outputText value="#{lang.connexion}"/></h1>
                    <span class="input valider">
                        <h:inputText styleClass="input_field" id="inputConnectionLogin" required="true" requiredMessage="Please enter your email address" validatorMessage="Invalid email format">
                        <h:inputText styleClass="input_field" required="true" requiredMessage="#{lang.entrerVotreMail}" validatorMessage="#{lang.emailInvalide}" id="input9">
                            <f:ajax event="focus" execute="@this" render="messageInput9" />
                            <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                            <f:ajax event="blur" execute="@this" render="messageInputConnectionLogin" />
                        </h:inputText>
                        <label class="input_label" for="inputConnectionLogin">
                            <span class="input_label-content" data-content="Login">
                                <h:outputText value="Login" />
                            </span>
                        <label class="input_label" for="input9">
                            <span class="input_label-content" data-content="Login"><h:outputText value="#{lang.login}" /></span>
                        </label>
                    </span>
                    <p class="messageErreur">
                        <h:message for="inputConnectionLogin" id="messageInputConnectionLogin"/>
                    </p>

                    <span class="input">
                        <h:inputSecret class="input_field" id="inputConnectionPassword" required="true" requiredMessage="Please enter your password" >
                            <f:validator validatorId="passwordValidator"/>
                            <f:ajax event="blur" execute="@this" render="messageInputConnectionPassword" />
                        </h:inputSecret>
                        <label class="input_label" for="inputConnectionPassword">
                            <span class="input_label-content" data-content="Mot de passe">
                                <h:outputText value="Mot de passe" />
                            </span>
                        <h:inputSecret class="input_field" id="input10" />
                        <label class="input_label" for="input10">
                            <span class="input_label-content" data-content="Mot de passe"><h:outputText value="#{lang.motDePasse}" /></span>
                        </label>
                    </span>
                    <p class="messageErreur">
                        <h:message for="inputConnectionPassword" id="messageInputConnectionPassword"/>
                    </p>

                    <div class="newConnection">
                        <h:outputText class="btnConnection" value="#{lang.seConnecter}" />
                    </div>
                </div>

                <div class="inscription">
                    <h1><h:outputText value="#{lang.inscription}"/></h1>
                    <h1><h:outputText value="Inscription"/></h1>

                    <span class="input">
                        <h:inputText class="input_field" id="input1" />
                        <label class="input_label" for="input1">
                            <span class="input_label-content" data-content="Nom"><h:outputText value="#{lang.nom}" /></span>
                        <h:inputText class="input_field" id="inputRegisterName" required="true" requiredMessage="Please enter your name" validatorMessage="Invalid name format">
                            <f:validateRegex pattern="^[a-zA-ZÀ-ÿ]{1}(?!.*([\s\’-])\1)[a-zA-ZÀ-ÿ\s\’-]{0,28}[a-zA-ZÀ-ÿ]{1}$"/>
                            <f:ajax event="blur" execute="@this" render="messageInputRegisterName" />
                        </h:inputText>
                        <label class="input_label" for="inputRegisterName">
                            <span class="input_label-content" data-content="Nom">
                                <h:outputText value="Nom" />
                            </span>
                        </label>
                    </span>
                    <p class="messageErreur">
                        <h:message for="inputRegisterName" id="messageInputRegisterName"/>
                    </p>

                    <span class="input">
                        <h:inputText class="input_field" id="input2" />
                        <label class="input_label" for="input2">
                            <span class="input_label-content" data-content="Prénom"><h:outputText value="#{lang.prenom}" /></span>
                        <h:inputText class="input_field" id="inputRegisterFirstName" required="true" requiredMessage="Please enter your first name" validatorMessage="Invalid first name format">
                            <f:validateRegex pattern="^[a-zA-ZÀ-ÿ]{1}(?!.*([\s\’-])\1)[a-zA-ZÀ-ÿ\s\’-]{0,28}[a-zA-ZÀ-ÿ]{1}$"/>
                            <f:ajax event="blur" execute="@this" render="messageInputRegisterFirstName" />
                        </h:inputText>
                        <label class="input_label" for="inputRegisterFirstName">
                            <span class="input_label-content" data-content="Prénom">
                                <h:outputText value="Prénom" />
                            </span>
                        </label>
                    </span>
                    <p class="messageErreur">
                        <h:message for="inputRegisterFirstName" id="messageInputRegisterFirstName"/>
                    </p>

                    <span class="input">
                        <h:inputText class="input_field" id="input3" />
                        <label class="input_label" for="input3">
                            <span class="input_label-content" data-content="Adresse mail"><h:outputText value="#{lang.adresseMail}" /></span>
                        <h:inputText class="input_field" id="inputRegisterMail" required="true" requiredMessage="Please enter your email address" validatorMessage="Invalid email format">
                            <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                            <f:ajax event="blur" execute="@this" render="messageInputRegisterMail" />
                        </h:inputText>
                        <label class="input_label" for="inputRegisterMail">
                            <span class="input_label-content" data-content="Adresse mail">
                                <h:outputText value="Adresse mail" />
                            </span>
                        </label>
                    </span>
                    <p class="messageErreur">
                        <h:message for="inputRegisterMail" id="messageInputRegisterMail"/>
                    </p>

                    <span class="input">
                        <h:inputSecret class="input_field" id="input4" />
                        <label class="input_label" for="input4">
                            <span class="input_label-content" data-content="Mot de passe"><h:outputText value="#{lang.motDePasse}" /></span>
                        <h:inputSecret class="input_field" id="inputRegisterPassword" required="true" requiredMessage="Please enter your password">
                            <f:validator validatorId="passwordValidator"/>
                            <f:ajax event="blur" execute="@this" render="messageInputRegisterPassword" />
                        </h:inputSecret>
                        <label class="input_label" for="inputRegisterPassword">
                            <span class="input_label-content" data-content="Mot de passe">
                                <h:outputText value="Mot de passe" />
                            </span>
                        </label>
                    </span>
                                        <span class="input">
                        <h:inputSecret class="input_field" id="input5" />
                        <label class="input_label" for="input5">
                            <span class="input_label-content" data-content="Mot de passe"><h:outputText value="#{lang.motDePasse}" /></span>
                    <p class="messageErreur">
                        <h:message for="inputRegisterPassword" id="messageInputRegisterPassword"/>
                    </p>

                    <span class="input">
                        <h:inputSecret class="input_field" id="inputRegisterPassword2" required="true" requiredMessage="Please enter your password again" >
                            <f:validator validatorId="passwordValidator.verifSamePassword(#{inputRegisterPassword}, #{inputRegisterPassword2})"/>
                            <f:ajax event="blur" execute="@this" render="messageInputRegisterPassword2" />
                        </h:inputSecret>
                        <label class="input_label" for="inputRegisterPassword2">
                            <span class="input_label-content" data-content="Mot de passe">
                                <h:outputText value="Mot de passe" />
                            </span>
                        </label>
                    </span>
                    <p class="messageErreur">
                        <h:message for="inputRegisterPassword2" id="messageInputRegisterPassword2"/>
                    </p>

                    <span class="input">
                        <h:inputText class="input_field" id="input6" />
                        <label class="input_label" for="input6">
                            <span class="input_label-content" data-content="Numéro de téléphone"><h:outputText value="#{lang.numTel}" /></span>
                            <span class="input_label-content" data-content="Numéro de téléphone">
                                <h:outputText value="Numéro de téléphone" />
                            </span>
                        </label>
                    </span>
                    <p class="messageErreur">
                        <h:message for="inputRegisterName" id="messageInputRegisterPhone"/>
                    </p>

                    <span class="input">
                        <h:inputText class="input_field" id="input7" />
                        <label class="input_label" for="input7">
                            <span class="input_label-content" data-content="Adresse"><h:outputText value="#{lang.adresse}" /></span>
                            <span class="input_label-content" data-content="Adresse">
                                <h:outputText value="Adresse" />
                            </span>
                        </label>
                    </span>
                    <p class="messageErreur">
                        <h:message for="inputRegisterName" id="messageInputRegisterAddress"/>
                    </p>

                    <span class="input postCodeCity">
                        <div class="postCode">
                            <h:inputText class="field_input" required="true" requiredMessage="Please enter your post code" converterMessage="LOL" id="inputRegisterPostCode" value="#{clientController.postCode}">
                                <f:convertNumber groupingUsed="false" integerOnly="true" />
                                <f:validator validatorId="postCodeValidator"/>
                                <f:ajax event="blur" execute="@this" render="messageInputRegisterPostCode selectMenu"/>
                            <label class="label_input" for="input8">
                                <span class="input_label-content" data-content="Code Postal"><h:outputText value="#{lang.codePostal}" /></span>
                            </label>
                            <h:inputText class="field_input" id="input8" value="#{clientController.postCode}">
                                <f:ajax event="blur" execute="@form" render="selectMenu"/>
                            </h:inputText>
                            <label class="label_input" for="inputRegisterPostCode">
                                <span class="input_label-content" data-content="Code Postal">
                                    <h:outputText value="Code Postal"/>
                                </span>
                            </label>
                        </div>
                        <div class="select-style city">
                            <h:selectOneMenu id="selectMenu">
                                <f:selectItems value="#{clientController.getLocaliteByPostCode()}" var="entry" itemValue="#{entry.ville}" itemLabel="#{entry.ville}" />
                            </h:selectOneMenu>
                        </div>
                    </span>
                    <p class="messageErreur">
                        <h:message for="inputRegisterPostCode" id="messageInputRegisterPostCode"/>
                    </p>


                    <div class="newInscription">
                        <h:outputText class="btnInscription" value="#{lang.sInscrire}" />
                    </div>
                </div>
            </div>
        </h:form>
        <h:outputScript name="./script/test.js"></h:outputScript>
        <h:outputScript>
            $(document).ready(function() {
            setTimeout(function(){
            document.querySelectorAll('form')[0].getElementsByTagName('span')[0].classList += "input--filled";
            document.querySelectorAll('form')[0].getElementsByTagName('span')[0].getElementsByTagName('input')[0].focus();
            }, 500);
            });
        </h:outputScript>
    </ui:define>

</ui:composition>
